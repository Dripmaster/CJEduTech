/* ===== Slide generic layout (16:9 outer frame optional) ===== */
.slide-div {
  --frame-w: min(100vw, calc(100dvh * 16 / 9));
  --frame-h: calc(var(--frame-w) * 9 / 16);
  width: 100vw;
  height: 100vh;
  margin: 0 auto;
  box-sizing: border-box;
  background-color: #F7F7F7;
  justify-content: flex-end;
}

/* White card container (use inside slide-page) */
.slide-card {
  
  width: 94vw;
  height: 88vh;
  margin-left: 3vw;
  margin-bottom: 3vh;
  border-radius: 18px;
  border: 1px solid #e9e9e9;
  background: #fff;
  box-shadow: 0 6px 22px rgba(0,0,0,0.06);
  padding: clamp(16px, 3.2vw, 36px);
  box-sizing: border-box;
  display:flex;
  flex-direction: column;
  padding-bottom: 0;
  margin-bottom: 2vh;
}

.slide-indicator {
  color: #FF6E37;
  font-size: 1.4rem;
  font-weight: bold;
  font-family: "CJ ONLYONE NEW title";
}

.slide-title {
  text-align: center;
  color: #FF6E37;
  font-size: 4vh;
  margin-bottom: 0;
  padding-bottom: 0;
  margin-top: 0;
  font-family: "CJ ONLYONE NEW title";
}
/* slide.css */

.slide-subtitle {
  margin-top: 3vh;
  text-align: center;
  font-size: 1.4rem;
  color: #555;
  font-family: "CJ ONLYONE NEW body";
}

.slide-subtitle strong {
  color: #FF6B00; /* 강조 색상 */
}

.slide-title {
  font-size: 3rem;
  font-weight: bold;
  color: #333;
  line-height: 1.4;
}

.slide-title .highlight {
  background-color: #FFF1DA;
  color: #FF6B00;
  padding: 0 0.25em;
  border-radius: 4px;
}

.info-text {
  color: #818181;
  font-size: 15px;
  text-align: center;
}

/* ===== Target grid ===== */
/* Use: <div class="target-grid" data-count="5"> ...cards... </div> */
.target-grid {
  --card-w: clamp(120px, 20vw, 300px);
  --card-h: clamp(100px, 40vh, 250px);
  --cols: 3; /* fallback */
  display: grid;
  grid-template-columns: repeat(var(--cols), var(--card-w));
  padding-top: 8vh;
  justify-content: center;   /* 마지막 행도 가운데 정렬 */
  gap: clamp(16px, 2vw, 24px) clamp(22px, 3vw, 36px);
  width: 100%;
  height: 60vh;
  padding-bottom: 8vh;
  align-content: center;
  place-items: center;
}

/* Column presets by target count (desktop) */
.target-grid[data-count="3"] { --cols: 3; }
.target-grid[data-count="4"] { --cols: 4; }
.target-grid[data-count="5"] { --cols: 3; }
.target-grid[data-count="6"] { --cols: 3; }
.target-grid[data-count="7"] { --cols: 4; }
.target-grid[data-count="8"] { --cols: 4; }

/* On narrower screens, drop columns responsively */
@media (max-width: 1200px) {
  .target-grid { --card-w: clamp(220px, 26vw, 300px); }
}
@media (max-width: 980px) {
  .target-grid { --cols: 2; }
}
@media (max-width: 600px) {
  .target-grid { --cols: 1; }
}

/* ===== Target card ===== */
.target-card {
  box-sizing: border-box;                 /* border 변화에도 크기 고정 */
  height: 100%; /* grid-auto-rows에 맞춤 */
  width: var(--card-w);
  
  border-radius: 18px;
  border: 1px solid #eee;
  background: #fafafa;
  box-shadow: 0 2px 10px rgba(0,0,0,0.06) inset;

  display: grid;
  grid-template-rows: 1fr auto; /* 아이콘 / 라벨 */
  place-items: center;
  padding: clamp(10px, 1.8vw, 18px);
  position: relative;
  overflow: visible; /* 내용이 많아도 카드 높이 고정 */
  word-break: keep-all; 
  white-space: normal;
  min-height: 0;    /* grid/min-content 팽창 방지 */
}

/* Single-row grid: update card aspect ratio */
.target-grid[data-count="1"] .target-card,
.target-grid[data-count="2"] .target-card,
.target-grid[data-count="3"] .target-card {
  aspect-ratio: 46 / 38 !important;
}
.target-grid[data-count="4"] .target-card,
.target-grid[data-count="5"] .target-card,
.target-grid[data-count="6"] .target-card, 
.target-grid[data-count="7"] .target-card,
.target-grid[data-count="8"] .target-card,
.target-grid[data-count="9"] .target-card {
  aspect-ratio: 41 / 28;
}

.target-card .icon {
  width: clamp(72px, 7vw, 120px);
  height: auto;
}

.target-card .label {
  color: var(--orange02, #FF6E37);
  margin-top: 4px;
  font-weight: 700;
  font-size: clamp(16px, 1.8vw, 22px);
  white-space: normal;
  overflow-wrap: break-word;
  font-family: "CJ ONLYONE NEW title";
}

/* 라벨/설명 텍스트가 길어도 높이 증가하지 않도록 라인 클램프 */
.target-card .label,
.target-card .desc {
  white-space: normal;
  overflow-wrap: break-word;
  max-width: 92%;
}

/* 설명 전용 블록을 사용할 경우 대비 */
.target-card .desc {
  
  margin-top: 6px;
  font-size: clamp(14px, 1.8vw, 22px);
  line-height: 1.4;
  color: black;
  font-family: "CJ ONLYONE NEW title";
}

/* Click/disabled visuals (works with SlideProvider isBlocked) */
.target-card[disabled], .target-card.is-disabled {
  pointer-events: none;
  opacity: .8;
  filter: grayscale(.15);
}

.target-card.is-active {
  outline: none;    
  border-radius: 24px;
  border: 2px solid var(--orange04, #FFCE7B);
  background: rgba(255, 227, 179, 0.30);
  box-shadow: 0 0 4px 0 #FF6620;
}

.target-card:focus,
.target-card:focus-visible {
  outline: none;
}

/* Highlight the next required target */
.target-card.is-next {
  border-radius: 24px;
  background: linear-gradient(315deg, rgba(255, 175, 47, 0.90) 0%, rgba(255, 102, 32, 0.90) 100%);
  box-shadow: 0 0 4px 0 #FF6620;
}
.target-card.is-next .label {
  color: white;
}

.slide-footer {
  padding: 0;
  margin: 0;
  color: var(--grey02, #818181);
text-align: center;
font-family: "Pretendard Variable";
font-size: 1rem;
font-style: normal;
font-weight: 400;
line-height: normal;
}
/* Flip container setup */
.target-card {
  perspective: 1000px;
}

/* Flip inner wrapper */
.target-card .card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 0.6s ease;
}

/* Rotate on flip */
.target-card.flipped .card-inner {
  transform: rotateY(180deg);
}

/* Card faces */
.target-card .card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  backface-visibility: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.target-card .card-face.front {
  transform: rotateY(0deg);
}

.target-card .card-face.back {
  transform: rotateY(180deg);
}

.highlighted {
    border: 2px solid var(--orange04, #FFCE7B);
    background: rgba(255, 227, 179, 0.30);
    box-shadow: 0 0 4px 0 #FF6620;
}